{% layout none %}

<div class="cart-page" style="padding: 40px; max-width: 1000px; margin: auto;">
  <h1>Your Cart</h1>

  {% if cart.item_count > 0 %}
    <form action="/cart" method="post" novalidate>
      <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
        <thead>
          <tr style="border-bottom: 1px solid #ccc;">
            <th style="text-align: left;">Product</th>
            <th style="text-align: center;">Quantity</th>
            <th style="text-align: right;">Total</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          {% for item in cart.items %}
            <tr style="border-bottom: 1px solid #eee;">
              <td style="padding: 20px 0;">
                <div style="display: flex; align-items: center; gap: 15px;">
                  <img src="{{ item.image | image_url: width: 100 }}" width="70" height="70" style="border-radius: 5px;">
                  <div>
                    <a href="{{ item.url }}" style="font-weight: bold; color: #333;">{{ item.product.title }}</a><br>
                    {% if item.variant.title != 'Default Title' %}
                      <span style="color: #666;">{{ item.variant.title }}</span>
                    {% endif %}
                  </div>
                </div>
              </td>

              <td style="text-align: center;">
                <input type="number" name="updates[]" value="{{ item.quantity }}" min="0" style="width: 60px; padding: 6px; text-align: center;">
              </td>

              <td style="text-align: right;">
                {{ item.line_price | money }}
              </td>

              <td style="text-align: right;">
                <a href="/cart/change?line={{ forloop.index }}&quantity=0" style="color: red;">Remove</a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>

      <div style="margin-top: 30px; display: flex; justify-content: space-between; align-items: center;">
        <button type="submit" class="update-button" style="padding: 10px 20px; background-color: #333; color: white; border: none; border-radius: 5px;">Update Cart</button>
        <h2>Total: {{ cart.total_price | money }}</h2>
      </div>

      <div style="margin-top: 30px; text-align: right;">
        <a href="/checkout" class="checkout-button" style="padding: 12px 24px; background-color: #6ec1e4; color: white; font-weight: bold; text-decoration: none; border-radius: 30px;">Proceed to Checkout</a>
      </div>
    </form>
  {% else %}
    <p>Your cart is currently empty.</p>
    <a href="/" style="display: inline-block; margin-top: 20px; text-decoration: underline;">Continue Shopping</a>
  {% endif %}
</div>
